<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
    template="/WEB-INF/templates/default.xhtml">

    <ui:define name="title"> 
	Anuncios View Web Application
	</ui:define>
    
    <ui:define name="application_name"> 
	Anuncios View Web Application
	</ui:define>
	
    <ui:define name="user_label"> 
	<h:outputText value="Usuario: " rendered="#{not empty usuario.nombre}"/> 
	</ui:define>
	
    <ui:define name="user_name"> 
	<h:outputText value="#{usuario.nombre}" rendered="#{not empty usuario.nombre}"/> 
	</ui:define>
	
    <ui:define name="content" >
		<h1>Anuncios View Web Application</h1>
		
		<br class="clear"/>
		<h:form id="form">
			<p class="input">
				<h:outputLabel value="Selecciona un Contacto:" for="contacto" />
				<h:selectOneMenu id="contacto" value="#{contactoView.currentContacto}" 
					valueChangeListener="#{contactoView.update}" onchange="submit()"
					converter="SelectContactoToEntityConverter">
					<f:selectItem itemLabel="Elije uno ..." itemValue="#{null}"/>
					<f:selectItems value="#{contactoView.contactos}" var="contacto"
						itemValue="#{contacto}" itemLabel="#{contacto.contacto}">
					</f:selectItems>
				</h:selectOneMenu>
				<p>
					<h:commandButton action="#{contactoView.refrescar()}" value="Refrescar" />
				</p>
			</p>
			<br class="clear"/>
			<br class="clear"/>
			<p>
				<br class="clear"/>
				<h:outputLabel value="Anuncios:" />
				<br class="clear"/>
				<ul>
					<ui:repeat var="anuncio" value="#{contactoView.anuncioList}">
						<li>
							<strong>Ref:</strong><h:outputText value="#{anuncio.referencia}" />  
							<strong>Objeto:</strong><h:outputText value="#{anuncio.objeto}" />
							<strong>Adjudicaci√≥n:</strong><h:outputText value="#{anuncio.adjudicacion.fecha}" />
							<strong>Proveedor:</strong><h:outputText value="#{anuncio.adjudicacion.proveedor.proveedor}" />
						</li>
					</ui:repeat>
				</ul>
			</p>
		</h:form>
		<a href="/h9cp/index.jsf">Index</a>
		
    </ui:define>
</ui:composition>
